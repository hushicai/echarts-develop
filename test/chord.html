<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>chord</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div id="test" style="width: 800px; height: 400px;"></div>
    <link rel="import" href="./__script.html" />
    <script>
        require(['echarts', 'echarts/chart/chord'], function (echarts) {
            var el  = document.getElementById('test');
            var option = {
                title : {
                    text: '测试数据',
                    subtext: 'From d3.js',
                    x:'right',
                    y:'bottom'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: function (params) {
                        if (params.indicator2) { // is edge
                            return params.value.weight;
                            } else {// is node
                            return params.name
                        }
                    }
                },
                toolbox: {
                    show : true,
                    feature : {
                        restore : {show: true},
                        magicType: {show: true, type: ['force', 'chord']},
                        saveAsImage : {show: true}
                    }
                },
                legend: {
                    x: 'left',
                    data:['group1','group2', 'group3', 'group4']
                },
                series : [
                {
                    type:'chord',
                    sort : 'ascending',
                    sortSub : 'descending',
                    showScale : true,
                    showScaleText : true,
                    data : [
                        {name : 'group1'},
                        {name : 'group2'},
                        {name : 'group3'},
                        {name : 'group4'}
                    ],
                    itemStyle : {
                        normal : {
                            label : {
                                show: true,
                                textStyle: {
                                    color: 'red'
                                }
                            }
                        }
                    },
                    matrix : [
                        [11975,  5871, 8916, 2868],
                        [ 1951, 10048, 2060, 6171],
                        [ 8010, 16145, 8090, 8045],
                        [ 1013,   990,  940, 6907]
                    ]
                }
                ]
            };

            var ec = echarts.init(el);
            ec.setOption(option);
        });
    </script>
</body>
</html>
